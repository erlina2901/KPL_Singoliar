(n);t&&this.collapseItem(t)},r.prototype.hasCollapsedAncestor=function(n){while(n&&n.isExpanded)n=n.parentItem;return!!n},r.prototype.loadFirstChildren=function(n,i){var f=this,u,r;for(i===void 0&&(i=10),u={parentUid:n.uid,childIndexes:[],childUids:[]},r=0;r<n.children.length&&r<i;r++)u.childIndexes.push(r);return u.childIndexes.length===0?Common.PromiseUtilities.EmptyPromise:new t.Promise(function(n){f._remote.getBulkChildNodesDetails([u],function(i){var r=i[0];return t.Promise.join(r.childNodesDetails.map(function(n){return f.ingestNodeDescription(n)})).done(n)})})},r.prototype.pauseDomMutations=function(){this._pauseMutationRequestCount===0&&this._pausedMutationQueue.length>0&&F12.Tools.Utility.Assert.failDebugOnly("The DOM mutation queue wasn't properly cleaned.");this._pauseMutationRequestCount++},r.prototype.refreshItem=function(i,r){var u=this,f;return r===void 0&&(r=!0),this.removeChild(i.parentItem.uid,i.childIndex,i.uid),f=[],f.push({parentUid:i.parentItem.uid,childIndexes:[],childUids:[i.uid]}),new t.Promise(function(t){u._remote.getBulkChildNodesDetails(f,function(f){var o=f[0],e,s;o.childNodesDetails.length>0?(e=o.childNodesDetails[0],e.childIndex=i.childIndex,s=u.insertChild(i.parentItem.uid,i.childIndex,i.uid),n.GleamingBehaviour.allowGleamingIf(r,s,function(){u.ingestNodeDescription(e).done(t)})):t()})})},r.prototype.refreshTree=function(){return this.init()},r.prototype.removeChangeListener=function(n){for(var i=this._changeListeners.length,t=0;t<i;t++)if(this._changeListeners[t]===n)return this._changeListeners.splice(t,1),!0;return!1},r.prototype.removeChild=function(n,t,i){var r=this.findItemByUid(n),u;r&&r.children.length>t?(u=r.children[t],u?(u.uid&&u.uid!==i&&F12.Tools.Utility.Assert.failDebugOnly("Removing a child by childIndex, but its uid doesn't match the one we want to remove!"),this.removeItem(u)):(this._uidToItemMap[i]&&F12.Tools.Utility.Assert.failDebugOnly("Removing a non-loaded child by childIndex, but the child with this uid is actually loaded somewhere else!"),this.removeChildAt(r,t))):r.children.length<=t&&F12.Tools.Utility.Assert.failDebugOnly("Requested a removal on a child past the end of the parent's chi